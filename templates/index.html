<!DOCTYPE html>
<html>
<head>
    <title>Credit Score Prediction Service</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 40px; }
        .container { max-width: 800px; margin: 0 auto; }
        .form-group { margin-bottom: 15px; }
        label { display: block; margin-bottom: 5px; font-weight: bold; }
        input, select { width: 100%; padding: 8px; border: 1px solid #ddd; border-radius: 4px; }
        button { background-color: #007bff; color: white; padding: 10px 20px; border: none; border-radius: 4px; cursor: pointer; }
        button:hover { background-color: #0056b3; }
        .result { margin-top: 20px; padding: 15px; border-radius: 4px; }
        .success { background-color: #d4edda; border: 1px solid #c3e6cb; color: #155724; }
        .error { background-color: #f8d7da; border: 1px solid #f5c6cb; color: #721c24; }
    </style>
</head>
<body>
    <div class="container">
        <h1>Credit Score Prediction Service</h1>
        <p>Enter customer information to predict loan approval probability.</p>
        
        <form id="predictionForm">
            <div class="form-group">
                <label for="user_id">User ID:</label>
                <input type="text" id="user_id" name="user_id" value="USER001" required>
            </div>
            
            <div class="form-group">
                <label for="age">Age:</label>
                <input type="number" id="age" name="age" value="30" required>
            </div>
            
            <div class="form-group">
                <label for="gender">Gender:</label>
                <select id="gender" name="gender" required>
                    <option value="Male">Male</option>
                    <option value="Female">Female</option>
                    <option value="Other">Other</option>
                </select>
            </div>
            
            <div class="form-group">
                <label for="education_level">Education Level:</label>
                <select id="education_level" name="education_level" required>
                    <option value="High School">High School</option>
                    <option value="Bachelor's">Bachelor's</option>
                    <option value="Master's">Master's</option>
                    <option value="PhD">PhD</option>
                </select>
            </div>
            
            <div class="form-group">
                <label for="employment_status">Employment Status:</label>
                <select id="employment_status" name="employment_status" required>
                    <option value="Full-time">Full-time</option>
                    <option value="Part-time">Part-time</option>
                    <option value="Self-employed">Self-employed</option>
                    <option value="Unemployed">Unemployed</option>
                </select>
            </div>
            
            <div class="form-group">
                <label for="job_title">Job Title:</label>
                <select id="job_title" name="job_title" required>
                    <option value="Driver">Driver</option>
                    <option value="Teacher">Teacher</option>
                    <option value="Manager">Manager</option>
                    <option value="Student">Student</option>
                    <option value="Unemployed">Unemployed</option>
                    <option value="Accountant">Accountant</option>
                    <option value="Salesperson">Salesperson</option>
                    <option value="Doctor">Doctor</option>
                    <option value="Engineer">Engineer</option>
                </select>
            </div>
            
            <div class="form-group">
                <label for="monthly_income_usd">Monthly Income (USD):</label>
                <input type="number" id="monthly_income_usd" name="monthly_income_usd" value="5000" step="0.01" required>
            </div>
            
            <div class="form-group">
                <label for="monthly_expenses_usd">Monthly Expenses (USD):</label>
                <input type="number" id="monthly_expenses_usd" name="monthly_expenses_usd" value="2000" step="0.01" required>
            </div>
            
            <div class="form-group">
                <label for="savings_usd">Savings (USD):</label>
                <input type="number" id="savings_usd" name="savings_usd" value="10000" step="0.01" required>
            </div>
            
            <div class="form-group">
                <label for="has_loan">Has Loan:</label>
                <select id="has_loan" name="has_loan" required>
                    <option value="No">No</option>
                    <option value="Yes">Yes</option>
                </select>
            </div>
            
            <div class="form-group">
                <label for="loan_type">Loan Type:</label>
                <select id="loan_type" name="loan_type" required>
                    <option value="Home">Home</option>
                    <option value="Education">Education</option>
                    <option value="Business">Business</option>
                    <option value="Car">Car</option>
                </select>
            </div>
            
            <div class="form-group">
                <label for="loan_amount_usd">Loan Amount (USD):</label>
                <input type="number" id="loan_amount_usd" name="loan_amount_usd" value="0" step="0.01" required>
            </div>
            
            <div class="form-group">
                <label for="loan_term_months">Loan Term (Months):</label>
                <input type="number" id="loan_term_months" name="loan_term_months" value="0" required>
            </div>
            
            <div class="form-group">
                <label for="monthly_emi_usd">Monthly EMI (USD):</label>
                <input type="number" id="monthly_emi_usd" name="monthly_emi_usd" value="0" step="0.01" required>
            </div>
            
            <div class="form-group">
                <label for="loan_interest_rate_pct">Loan Interest Rate (%):</label>
                <input type="number" id="loan_interest_rate_pct" name="loan_interest_rate_pct" value="0" step="0.01" required>
            </div>
            
            <div class="form-group">
                <label for="debt_to_income_ratio">Debt to Income Ratio:</label>
                <input type="number" id="debt_to_income_ratio" name="debt_to_income_ratio" value="0.3" step="0.01" required>
            </div>
            
            <div class="form-group">
                <label for="savings_to_income_ratio">Savings to Income Ratio:</label>
                <input type="number" id="savings_to_income_ratio" name="savings_to_income_ratio" value="2.0" step="0.01" required>
            </div>
            
            <div class="form-group">
                <label for="region">Region:</label>
                <select id="region" name="region" required>
                    <option value="North America">North America</option>
                    <option value="Asia">Asia</option>
                    <option value="Europe">Europe</option>
                    <option value="Other">Other</option>
                    <option value="Africa">Africa</option>
                </select>
            </div>
            
            <div class="form-group">
                <label for="record_date">Record Date:</label>
                <input type="date" id="record_date" name="record_date" value="2024-01-01" required>
            </div>
            
            <button type="submit">Predict Loan Approval</button>
        </form>
        
        <div id="result"></div>
    </div>
    
    <script>
        document.getElementById('predictionForm').addEventListener('submit', async function(e) {
            e.preventDefault();
            
            const formData = new FormData(this);
            const data = {};
            formData.forEach((value, key) => {
                data[key] = value;
            });
            
            try {
                const response = await fetch('/predict', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify(data)
                });
                
                const result = await response.json();
                const resultDiv = document.getElementById('result');
                
                if (response.ok) {
                    resultDiv.className = 'result success';
                    resultDiv.innerHTML = `
                        <h3>Prediction Result:</h3>
                        <p><strong>Credit Score:</strong> ${(result.credit_score)}</p>
                        <p><strong>Credit Rating:</strong> ${result.credit_rating}</p>
                        <p><strong>User ID:</strong> ${result.user_id}</p>
                    `;
                } else {
                    resultDiv.className = 'result error';
                    resultDiv.innerHTML = `<h3>Error:</h3><p>${result.error}</p>`;
                }
            } catch (error) {
                const resultDiv = document.getElementById('result');
                resultDiv.className = 'result error';
                resultDiv.innerHTML = `<h3>Error:</h3><p>Failed to connect to server: ${error.message}</p>`;
            }
        });
    </script>
</body>
</html> 